#!/usr/bin/env ruby
require 'bundler/setup'
require 'pry'
require 'awesome_print'
AwesomePrint.pry!

require_relative '../lib/tinky'

Tinky.define_singleton_method(:help) do
  puts <<~HELP

    ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ (Ð¾Ð±ÑŠÐµÐºÑ‚ â€” Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Tinky):

      portfolio       â€” Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚Ñ„ÐµÐ»ÑŒ Ð¸ ÑÐ²Ð¾Ð´ÐºÑƒ
      watch_portfolio â€” Ð¿Ð¾Ñ€Ñ‚Ñ„ÐµÐ»ÑŒ Ñ Ð°Ð²Ñ‚Ð¾Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 2 ÑÐµÐº (Ctrl+C Ð´Ð»Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð°)
      restore_tty     â€” Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» Ð¿Ð¾ÑÐ»Ðµ watch_portfolio
      wallet          â€” Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÐºÐ¾ÑˆÐµÐ»Ñ‘Ðº (Ð±Ð°Ð»Ð°Ð½Ñ Ð²Ð°Ð»ÑŽÑ‚)

    Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð¸ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ°:

      positions            â€” ÑÑ‹Ñ€Ñ‹Ðµ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ð¿Ð¾Ñ€Ñ‚Ñ„ÐµÐ»Ñ
      currency_positions   â€” Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ð¿Ð¾ Ð²Ð°Ð»ÑŽÑ‚Ð°Ð¼
      client               â€” API-ÐºÐ»Ð¸ÐµÐ½Ñ‚ (Faraday)
      summary_data         â€” ÑÐ²Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾Ñ€Ñ‚Ñ„ÐµÐ»Ñ
      available_currencies - Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ Ð²Ð°Ð»ÑŽÑ‚Ñ‹

    Ð¡Ð¿Ñ€Ð°Ð²ÐºÐ°: Tinky.help â€” ÑÑ‚Ð° Ð¿Ð¾Ð´ÑÐºÐ°Ð·ÐºÐ°, help â€” Ð²ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Pry.

  HELP
end

puts "\n  ðŸ‘‹ ÐšÐ¾Ð½ÑÐ¾Ð»ÑŒ TinkyClient â€” Ð²Ñ‹ Ð² ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ðµ Ð¼Ð¾Ð´ÑƒÐ»Ñ Tinky.\n"
Tinky.help

Pry.start(Tinky)
